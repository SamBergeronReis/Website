<!DOCTYPE html>
<html>
<head>
    <title>Website</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <button onclick="myFunction()">New Character</button>
    <div id="myData"></div>
    <script>
        var url = "https://script.google.com/macros/s/AKfycbxQDjSjGtqyP3k-St-uvKmLd6wrVzPdyhV9l7R00BCEU4XhunJ404cw_iXm-YgiP-Vm8g/exec"
        let mainContainer = document.getElementById("myData");
        fetch(url + "?path=Sheet1&action=read")
        .then(res => res.json())
        .then(data => myFunction2(data))
        function myFunction2(x) {
            for (let i = 0; i < x.data.length; i++) {
                let div = document.createElement("div")
                div.innerHTML = 'Name: ' + x.data[i].Users
                mainContainer.appendChild(div);
            }
        }

        function myFunction() {
            fetch(url + "?path=Sheet1&action=write&Users=test")
            fetch(url + "?path=Sheet1&action=read")
        .then(res => res.json())
        .then(data => myFunction3(data))
        }
        function myFunction3(x) {
            let div = document.createElement("div")
            div.innerHTML = 'Name: ' + x.data[x.data.length-1].Users
            mainContainer.appendChild(div);
        }
    </script>
</body>
</html>
